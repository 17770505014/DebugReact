{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\nimport { REACT_RESPONDER_TYPE } from 'shared/ReactSymbols';\nimport ReactCurrentDispatcher from './ReactCurrentDispatcher';\n\nfunction resolveDispatcher() {\n  const dispatcher = ReactCurrentDispatcher.current;\n  invariant(dispatcher !== null, 'Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for' + ' one of the following reasons:\\n' + '1. You might have mismatching versions of React and the renderer (such as React DOM)\\n' + '2. You might be breaking the Rules of Hooks\\n' + '3. You might have more than one copy of React in the same app\\n' + 'See https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.');\n  return dispatcher;\n}\n\nexport function useContext(Context, unstable_observedBits) {\n  const dispatcher = resolveDispatcher();\n\n  if (__DEV__) {\n    warning(unstable_observedBits === undefined, 'useContext() second argument is reserved for future ' + 'use in React. Passing it is not supported. ' + 'You passed: %s.%s', unstable_observedBits, typeof unstable_observedBits === 'number' && Array.isArray(arguments[2]) ? '\\n\\nDid you call array.map(useContext)? ' + 'Calling Hooks inside a loop is not supported. ' + 'Learn more at https://fb.me/rules-of-hooks' : ''); // TODO: add a more generic warning for invalid values.\n\n    if (Context._context !== undefined) {\n      const realContext = Context._context; // Don't deduplicate because this legitimately causes bugs\n      // and nobody should be using this in existing code.\n\n      if (realContext.Consumer === Context) {\n        warning(false, 'Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be ' + 'removed in a future major release. Did you mean to call useContext(Context) instead?');\n      } else if (realContext.Provider === Context) {\n        warning(false, 'Calling useContext(Context.Provider) is not supported. ' + 'Did you mean to call useContext(Context) instead?');\n      }\n    }\n  }\n\n  return dispatcher.useContext(Context, unstable_observedBits);\n}\nexport function useState(initialState) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useState(initialState);\n}\nexport function useReducer(reducer, initialArg, init) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useReducer(reducer, initialArg, init);\n}\nexport function useRef(initialValue) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useRef(initialValue);\n}\nexport function useEffect(create, inputs) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useEffect(create, inputs);\n}\nexport function useLayoutEffect(create, inputs) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useLayoutEffect(create, inputs);\n}\nexport function useCallback(callback, inputs) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useCallback(callback, inputs);\n}\nexport function useMemo(create, inputs) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useMemo(create, inputs);\n}\nexport function useImperativeHandle(ref, create, inputs) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useImperativeHandle(ref, create, inputs);\n}\nexport function useDebugValue(value, formatterFn) {\n  if (__DEV__) {\n    const dispatcher = resolveDispatcher();\n    return dispatcher.useDebugValue(value, formatterFn);\n  }\n}\nexport const emptyObject = {};\nexport function useResponder(responder, listenerProps) {\n  const dispatcher = resolveDispatcher();\n\n  if (__DEV__) {\n    if (responder == null || responder.$$typeof !== REACT_RESPONDER_TYPE) {\n      warning(false, 'useResponder: invalid first argument. Expected an event responder, but instead got %s', responder);\n      return;\n    }\n  }\n\n  return dispatcher.useResponder(responder, listenerProps || emptyObject);\n}","map":{"version":3,"sources":["/Users/gaoshaoyun/Documents/library/debug-react/src/react/packages/react/src/ReactHooks.js"],"names":["invariant","warning","REACT_RESPONDER_TYPE","ReactCurrentDispatcher","resolveDispatcher","dispatcher","current","useContext","Context","unstable_observedBits","__DEV__","undefined","Array","isArray","arguments","_context","realContext","Consumer","Provider","useState","initialState","useReducer","reducer","initialArg","init","useRef","initialValue","useEffect","create","inputs","useLayoutEffect","useCallback","callback","useMemo","useImperativeHandle","ref","useDebugValue","value","formatterFn","emptyObject","useResponder","responder","listenerProps","$$typeof"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  ReactContext,\n  ReactEventResponder,\n  ReactEventResponderListener,\n} from 'shared/ReactTypes';\nimport invariant from 'shared/invariant';\nimport warning from 'shared/warning';\nimport {REACT_RESPONDER_TYPE} from 'shared/ReactSymbols';\n\nimport ReactCurrentDispatcher from './ReactCurrentDispatcher';\n\nfunction resolveDispatcher() {\n  const dispatcher = ReactCurrentDispatcher.current;\n  invariant(\n    dispatcher !== null,\n    'Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for' +\n      ' one of the following reasons:\\n' +\n      '1. You might have mismatching versions of React and the renderer (such as React DOM)\\n' +\n      '2. You might be breaking the Rules of Hooks\\n' +\n      '3. You might have more than one copy of React in the same app\\n' +\n      'See https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.',\n  );\n  return dispatcher;\n}\n\nexport function useContext<T>(\n  Context: ReactContext<T>,\n  unstable_observedBits: number | boolean | void,\n) {\n  const dispatcher = resolveDispatcher();\n  if (__DEV__) {\n    warning(\n      unstable_observedBits === undefined,\n      'useContext() second argument is reserved for future ' +\n        'use in React. Passing it is not supported. ' +\n        'You passed: %s.%s',\n      unstable_observedBits,\n      typeof unstable_observedBits === 'number' && Array.isArray(arguments[2])\n        ? '\\n\\nDid you call array.map(useContext)? ' +\n          'Calling Hooks inside a loop is not supported. ' +\n          'Learn more at https://fb.me/rules-of-hooks'\n        : '',\n    );\n\n    // TODO: add a more generic warning for invalid values.\n    if ((Context: any)._context !== undefined) {\n      const realContext = (Context: any)._context;\n      // Don't deduplicate because this legitimately causes bugs\n      // and nobody should be using this in existing code.\n      if (realContext.Consumer === Context) {\n        warning(\n          false,\n          'Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be ' +\n            'removed in a future major release. Did you mean to call useContext(Context) instead?',\n        );\n      } else if (realContext.Provider === Context) {\n        warning(\n          false,\n          'Calling useContext(Context.Provider) is not supported. ' +\n            'Did you mean to call useContext(Context) instead?',\n        );\n      }\n    }\n  }\n  return dispatcher.useContext(Context, unstable_observedBits);\n}\n\nexport function useState<S>(initialState: (() => S) | S) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useState(initialState);\n}\n\nexport function useReducer<S, I, A>(\n  reducer: (S, A) => S,\n  initialArg: I,\n  init?: I => S,\n) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useReducer(reducer, initialArg, init);\n}\n\nexport function useRef<T>(initialValue: T): {current: T} {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useRef(initialValue);\n}\n\nexport function useEffect(\n  create: () => (() => void) | void,\n  inputs: Array<mixed> | void | null,\n) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useEffect(create, inputs);\n}\n\nexport function useLayoutEffect(\n  create: () => (() => void) | void,\n  inputs: Array<mixed> | void | null,\n) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useLayoutEffect(create, inputs);\n}\n\nexport function useCallback(\n  callback: () => mixed,\n  inputs: Array<mixed> | void | null,\n) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useCallback(callback, inputs);\n}\n\nexport function useMemo(\n  create: () => mixed,\n  inputs: Array<mixed> | void | null,\n) {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useMemo(create, inputs);\n}\n\nexport function useImperativeHandle<T>(\n  ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n  create: () => T,\n  inputs: Array<mixed> | void | null,\n): void {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useImperativeHandle(ref, create, inputs);\n}\n\nexport function useDebugValue(value: any, formatterFn: ?(value: any) => any) {\n  if (__DEV__) {\n    const dispatcher = resolveDispatcher();\n    return dispatcher.useDebugValue(value, formatterFn);\n  }\n}\n\nexport const emptyObject = {};\n\nexport function useResponder(\n  responder: ReactEventResponder<any, any>,\n  listenerProps: ?Object,\n): ?ReactEventResponderListener<any, any> {\n  const dispatcher = resolveDispatcher();\n  if (__DEV__) {\n    if (responder == null || responder.$$typeof !== REACT_RESPONDER_TYPE) {\n      warning(\n        false,\n        'useResponder: invalid first argument. Expected an event responder, but instead got %s',\n        responder,\n      );\n      return;\n    }\n  }\n  return dispatcher.useResponder(responder, listenerProps || emptyObject);\n}\n"]},"metadata":{},"sourceType":"module"}